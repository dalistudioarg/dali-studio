<section
  id="contacto"
  class="relative bg-slate-950 px-6 py-36 border-t border-slate-800 overflow-hidden"
>

  <div class="absolute inset-0 bg-[radial-gradient(circle_at_50%_0%,rgba(99,102,241,0.08),transparent_60%)]"></div>

  <div class="relative z-10 max-w-3xl mx-auto text-center">

    <h2 class="text-3xl md:text-5xl font-semibold text-white mb-6">
      Â¿Empezamos tu proyecto?
    </h2>

    <p class="text-slate-400 max-w-xl mx-auto mb-20 text-lg leading-relaxed">
      Contame brevemente quÃ© necesitÃ¡s y te respondo en 24â€“48 hs con una propuesta clara.
    </p>

    <form id="contactForm" class="space-y-8 text-left">

      <div>
        <label class="block text-sm text-slate-400 mb-2">Nombre</label>
        <input
          type="text"
          name="nombre"
          required
          placeholder="Tu nombre"
          class="w-full bg-slate-900 border border-slate-800 rounded-xl px-4 py-3 text-white"
        />
      </div>

      <div>
        <label class="block text-sm text-slate-400 mb-2">Email</label>
        <input
          type="email"
          name="email"
          required
          placeholder="tu@email.com"
          class="w-full bg-slate-900 border border-slate-800 rounded-xl px-4 py-3 text-white"
        />
      </div>

      <div>
        <label class="block text-sm text-slate-400 mb-2">
          Tipo de proyecto
        </label>
        <select
          name="tipo_proyecto"
          class="w-full bg-slate-900 border border-slate-800 rounded-xl px-4 py-3 text-white"
        >
          <option>Landing Base</option>
          <option>Landing Optimizada</option>
          <option>Web + Reservas Online</option>
          <option>No estoy seguro</option>
        </select>
      </div>

      <div>
        <label class="block text-sm text-slate-400 mb-2">Mensaje</label>
        <textarea
          name="mensaje"
          rows="5"
          required
          placeholder="Contame sobre tu negocio..."
          class="w-full bg-slate-900 border border-slate-800 rounded-xl px-4 py-3 text-white resize-none"
        ></textarea>
      </div>

      <button
        type="submit"
        class="w-full bg-linear-to-r from-indigo-500 to-violet-500 py-4 rounded-xl font-medium text-white"
      >
        Enviar mensaje
      </button>

      <p id="formMessage" class="text-sm mt-4 hidden"></p>

    </form>

  </div>
</section>

<script>
  const form = document.getElementById("contactForm") as HTMLFormElement;
  const message = document.getElementById("formMessage");

  form?.addEventListener("submit", async (e) => {
    e.preventDefault();

    const formData = new FormData(form);
    const data = Object.fromEntries(formData);

    const response = await fetch("/api/contacto", {
      method: "POST",
      headers: { "Content-Type": "application/json" },
      body: JSON.stringify(data),
    });

    if (response.ok) {
      if (message) {
        message.textContent = "Mensaje enviado correctamente ðŸš€";
        message.classList.remove("hidden");
        message.classList.add("text-green-400");
      }
      form.reset();
    } else {
      if (message) {
        message.textContent = "Hubo un error al enviar ðŸ˜¢";
        message.classList.remove("hidden");
        message.classList.add("text-red-400");
      }
    }
  });
</script>
<section
  id="contacto"
  class="relative bg-slate-950 px-6 py-36 border-t border-slate-800 overflow-hidden"
>
  <div
    class="absolute inset-0 bg-[radial-gradient(circle_at_50%_0%,rgba(99,102,241,0.08),transparent_60%)]"
  >
  </div>

  <div class="relative z-10 max-w-3xl mx-auto text-center">
    <h2 class="text-3xl md:text-5xl font-semibold text-white mb-6">
      Â¿Empezamos tu proyecto?
    </h2>

    <p class="text-slate-400 max-w-xl mx-auto mb-20 text-lg leading-relaxed">
      Contame brevemente quÃ© necesitÃ¡s y te respondo en 24â€“48 hs con una
      propuesta clara.
    </p>

    <!-- FORM -->
    <form id="contactForm" class="space-y-8 text-left">
      <div>
        <label class="block text-sm text-slate-400 mb-2">Nombre</label>
        <input
          type="text"
          name="nombre"
          required
          placeholder="Tu nombre"
          class="w-full bg-slate-900 border border-slate-800 rounded-xl px-4 py-3 text-white"
        />
      </div>

      <div>
        <label class="block text-sm text-slate-400 mb-2">Email</label>
        <input
          type="email"
          name="email"
          required
          placeholder="tu@email.com"
          class="w-full bg-slate-900 border border-slate-800 rounded-xl px-4 py-3 text-white"
        />
      </div>

      <div>
        <label class="block text-sm text-slate-400 mb-2">Tipo de proyecto</label
        >
        <select
          name="tipo_proyecto"
          class="w-full bg-slate-900 border border-slate-800 rounded-xl px-4 py-3 text-white"
        >
          <option>Landing Base</option>
          <option>Landing Optimizada</option>
          <option>Web + Reservas Online</option>
        </select>
      </div>

      <div>
        <label class="block text-sm text-slate-400 mb-2">Mensaje</label>
        <textarea
          name="mensaje"
          rows="5"
          required
          placeholder="Contame sobre tu negocio..."
          class="w-full bg-slate-900 border border-slate-800 rounded-xl px-4 py-3 text-white resize-none"
        ></textarea>
      </div>

      <!-- Anti-spam -->
      <input type="text" name="_gotcha" style="display:none" />

      <button
        id="submitBtn"
        type="submit"
        class="w-full bg-linear-to-r from-indigo-500 to-violet-500 py-4 rounded-xl font-medium text-white
               hover:opacity-90 transition"
      >
        Enviar mensaje
      </button>

      <!-- Cartel de estado -->
      <p
        id="formMessage"
        class="mt-4 text-sm hidden transition-all duration-300"
      >
      </p>
    </form>
  </div>
</section>
<!-- Toast -->
<div
  id="toast"
  class="fixed bottom-6 right-6 bg-slate-900 border border-green-500
         text-white px-6 py-4 rounded-xl shadow-2xl
         opacity-0 pointer-events-none
         transform translate-y-4
         transition-all duration-300"
>
  <p id="toastMessage" class="text-sm"></p>
</div>

<script is:inline>
  const form = document.getElementById("contactForm");
  const button = document.getElementById("submitBtn");
  const toast = document.getElementById("toast");
  const toastMessage = document.getElementById("toastMessage");

  function showToast(text, success = true) {
    if (!toast || !toastMessage) return;

    toastMessage.innerHTML = text;

    toast.classList.remove("opacity-0", "pointer-events-none", "translate-y-4");
    toast.classList.add("opacity-100", "translate-y-0");

    toast.style.borderColor = success ? "#22c55e" : "#ef4444";

    setTimeout(() => {
      toast.classList.remove("opacity-100", "translate-y-0");
      toast.classList.add("opacity-0", "pointer-events-none", "translate-y-4");
    }, 5000);
  }

  if (form && button) {
    form.addEventListener("submit", async (e) => {
      e.preventDefault();

      button.disabled = true;
      button.textContent = "Enviando...";

      const formData = new FormData(form);

      try {
        const response = await fetch("https://formspree.io/f/mzdakvkp", {
          method: "POST",
          body: formData,
          headers: { Accept: "application/json" },
        });

        if (response.ok) {
          showToast(
            "ðŸš€ <strong>Â¡Mensaje enviado!</strong><br/>Te respondo dentro de las prÃ³ximas <strong>24â€“48 hs</strong>.",
            true,
          );
          form.reset();
        } else {
          showToast("ðŸ˜¢ Hubo un error al enviar el mensaje.", false);
        }
      } catch (error) {
        showToast("ðŸ˜¢ Error de conexiÃ³n.", false);
      }

      button.disabled = false;
      button.textContent = "Enviar mensaje";
    });
  }
</script>
